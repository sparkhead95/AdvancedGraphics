<html>

<head>
<meta charset="utf-8"/>
<title>Advanced Graphics Assignment</title>
<style>
body {margin: 0;}
canvas {width: 100%; height 100%;}
</style>
</head>

<body>
<script src = "https://threejs.org/build/three.js" ></script>
<script src="http://cdn.rawgit.com/mrdoob/three.js/master/examples/js/controls/TrackballControls.js"></script>
<script>
//Custom javascript

//Define the windows width and height first
var width = window.innerWidth;
var height = window.innerHeight;

//Define renderer and the scene
var renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(width, height);
renderer.shadowMap.enabled = true;
renderer.shadowMap.type = THREE.PCFSoftShadowMap;

document.body.appendChild(renderer.domElement);
var scene = new THREE.Scene();

// Floor
var mesh;
var cube = new THREE.PlaneGeometry(100,100,5,8);
var cubeMat = new THREE.MeshPhongMaterial({color:0x88898, side: THREE.DoubleSide});
floor = new THREE.Mesh(cube, cubeMat);
floor.receiveShadow = true;
scene.add(floor);

// Define the Ball
var geometry = new THREE.SphereGeometry(1,64,64);
var material = new THREE.MeshPhongMaterial({color:0xFF0000});
var leftTeste = new THREE.Mesh(geometry, material);
leftTeste.position.set(-0.8,2,2);
leftTeste.castShadow = true;
scene.add(leftTeste);


var camera = new THREE.PerspectiveCamera(90,width/height,0.1,1000);
camera.position.set(0, 0, 20);
camera.lookAt(leftTeste);

var ambientLight = new THREE.AmbientLight(0xffffff,0.1);
scene.add(ambientLight);

var spotLight = new THREE.SpotLight(0xFFffff,10);
spotLight.position.set(0,2,8);
spotLight.penumbra = 1;
spotLight.lookAt = mesh;
spotLight.castShadow = true;
spotLight.intensity = 1;

var spotLightHelper = new THREE.SpotLightHelper( spotLight );
spotLight.shadowCameraFar = 600;
scene.add(spotLightHelper);
scene.add(spotLight);


//controls
controls = new THREE.TrackballControls( camera );
                                controls.rotateSpeed = 2.0;
                                controls.zoomSpeed = 1.2;
                                controls.panSpeed = 0.8;
                                controls.noZoom = true;
                                controls.noPan = true;
                                controls.staticMoving = true;
                                controls.dynamicDampingFactor = 0.3;
window.addEventListener( 'resize', onResize, false );

function onResize() {
  renderer.setSize( window.innerWidth, window.innerHeight );
  camera.aspect = ( window.innerWidth / window.innerHeight );
  camera.updateProjectionMatrix();
}

//controls handler
 function onDocumentMouseDown( event ) {
                                event.preventDefault();
                                
                                        controls.enabled = true;
                                        
}


//Making a render loop for scenes
//draw: renderer.render(scene,camera);
function render(){
        renderer.render(scene,camera);

        requestAnimationFrame(render);
var clock = new THREE.Clock();
        var delta = clock.getDelta();
controls.update(delta);
}
    
    
    
    
render();
</script>
</body>

</html>



