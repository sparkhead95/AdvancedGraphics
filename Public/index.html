<html>

<head>
<meta charset="utf-8"/>
<title> My first Three.js app </title>
<style>
body {margin: 0;}
canvas {width: 100%; height 100%;}
</style>
</head>

<body>
<script src = "js/three.min.js" ></script>
<script>
//Custom javascript


//Define the windows width and height first
var width = window.innerWidth;
var height = window.innerHeight;

//Define renderer and the scene
var renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(width, height);
renderer.shadowMap.Enabled = true;
renderer.shadowMap.Type = THREE.PCFSoftShadowMap;


document.body.appendChild(renderer.domElement);
var scene = new THREE.Scene();


//Define the cube
var cubeGeometry = new THREE.CubeGeometry(0.2,0.5,0.2);
var cubeMaterial = new THREE.MeshBasicMaterial({color: 0xccffaa});
var cube = new THREE.Mesh(cubeGeometry,cubeMaterial);
cube.castShadow = true;
cube.receiveShadow = false;
scene.add(cube);


//Define room
//Back wall
var cubeGeometry = new THREE.CubeGeometry(15,20,10);
var cubeMaterial = new THREE.MeshPhongMaterial({color: 0xffffff});
var bg = new THREE.Mesh(cubeGeometry,cubeMaterial);
bg.position.set(-0.8,2,-5);
bg.receiveShadow = true;
bg.castShadow = false;
scene.add(bg);

//Floor
var cubeGeometry = new THREE.CubeGeometry(20,0.1,20);
var cubeMaterial = new THREE.MeshPhongMaterial({color: 0xffffff});
var floor = new THREE.Mesh(cubeGeometry,cubeMaterial);
floor.position.set(-0.8,-4,-5);
floor.rotation.y = 90;
floor.castShadow = false;
floor.receiveShadow = true;
scene.add(floor);



var geometry = new THREE.SphereGeometry(0.5, 50, 50, 0, Math.PI * 2, 0, Math.PI * 2);
var material = new THREE.MeshPhongMaterial();
var leftTeste = new THREE.Mesh(geometry, material);
leftTeste.position.set(-0.8,2,0.2);
scene.add(leftTeste);

var geometry = new THREE.SphereGeometry(0.5, 50, 50, 0, Math.PI * 2, 0, Math.PI * 2);
var material = new THREE.MeshPhongMaterial();
var rightTeste = new THREE.Mesh(geometry, material);
rightTeste.position.set(0.8,2,0.2);
scene.add(rightTeste);

var geometry = new THREE.RingGeometry( 1, 0.5, 32 );
var material = new THREE.MeshPhongMaterial( { color: 0xffff00, side: THREE.DoubleSide } );
var mesh = new THREE.Mesh( geometry, material );
mesh.position.set(0,-2,0);
scene.add( mesh );

//Define edges
var edges = new THREE.EdgesHelper( cube, 0x000);
edges.material.linewidth = 2;
scene.add(edges);

//Define the camera (take the angle of view first - in this case, 45), and only objects between 0.1 and 1000 will be displayed
var camera = new THREE.PerspectiveCamera(90,width/height,0.1,1000);
camera.position.set(4, 2, 10);
camera.lookAt(rightTeste);

//Make light to see things
var light = new THREE.SpotLight(0xffffff);
light.position.set(0,0,30);
scene.add(light);
light.castShadow = true;
light.shadowCameraVisible = true;

//group things together to make our object
group = new THREE.Object3D();

group.add(mesh);
group.add(cube);
group.add(edges);
group.add(leftTeste);
group.add(rightTeste);
scene.add(group);



//Making a render loop for scenes
//draw: renderer.render(scene,camera);
function render(){
	renderer.render(scene,camera);
	//cube.rotation.x += Math.PI * 0.8/180;
	//cube.rotation.y += Math.PI * 1.2/180;
	
	//edges.rotation.x += Math.PI * 0.8/180;
	//edges.rotation.y += Math.PI * 1.2/180;

	//leftTeste.rotation.x += Math.PI * 0.8/180;
        //leftTeste.rotation.y += Math.PI * 1.2/180;
	//rightTeste.rotation.x += Math.PI * 0.8/180;
        //rightTeste.rotation.y += Math.PI * 1.2/180;

	//group.rotation.x += Math.PI * 0.2/180;
        //group.rotation.y += Math.PI * 0.2/180;
	//camera.position.x += Math.PI * 0.2/180;

	requestAnimationFrame(render);
}
render();



</script>
</body>

</html>
